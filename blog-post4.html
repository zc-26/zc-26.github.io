<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>提升JavaScript性能的15个实用技巧 | 博客</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <style>
    .img-hover { transition: transform 0.4s ease; }
    .img-hover:hover { transform: scale(1.02); }
    .tip-box { background-color: #f0f8fb; border-left: 4px solid #4299e1; padding: 10px; margin-bottom: 15px; border-radius: 0 4px 4px 0; }
  </style>
</head>
<body class="bg-gray-50">
  <!-- 导航栏 -->
  <header class="fixed top-0 w-full bg-white shadow-sm z-50 text-sm">
    <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
      <a href="index.html" class="font-bold text-primary">
        <i class="fa fa-code mr-1"></i>个人网站
      </a>
      
      <!-- 导航链接 -->
      <div class="hidden md:flex space-x-4">
        <a href="index.html" class="hover:text-primary">首页</a>
        <a href="portfolio.html" class="hover:text-primary">作品集</a>
        <a href="blog.html" class="text-primary">博客</a>
        <a href="about.html" class="hover:text-primary">关于我</a>
      </div>
      
      <!-- 移动端菜单 -->
      <button id="menuBtn" class="md:hidden">
        <i class="fa fa-bars"></i>
      </button>
      <div id="mobileMenu" class="hidden md:hidden absolute top-full left-0 w-full bg-white shadow-md p-2">
        <a href="index.html" class="block py-1 hover:text-primary">首页</a>
        <a href="portfolio.html" class="block py-1 hover:text-primary">作品集</a>
        <a href="blog.html" class="block py-1 text-primary">博客</a>
        <a href="about.html" class="block py-1 hover:text-primary">关于我</a>
      </div>
    </nav>
  </header>

  <!-- 返回按钮 -->
  <section class="pt-18 pb-2">
    <div class="container mx-auto px-4 text-xs">
      <a href="blog.html" class="text-gray-600 hover:text-primary">
        <i class="fa fa-arrow-left mr-1"></i> 返回博客
      </a>
    </div>
  </section>

  <!-- 博客文章内容 -->
  <section class="py-3 bg-white">
    <div class="container mx-auto px-4 max-w-3xl">
      <!-- 文章标题与元信息 -->
      <div class="mb-6">
        <h1 class="text-xl md:text-2xl font-bold">提升JavaScript性能的15个实用技巧</h1>
        <div class="flex items-center text-gray-500 text-xs mt-3">
          <span><i class="fa fa-calendar-o mr-1"></i> 发布于 2025-8-25</span>
          <span class="mx-2">|</span>
          <span><i class="fa fa-folder-o mr-1"></i> JavaScript</span>
        </div>
      </div>
      
      <!-- 文章封面图 -->
      <div class="mb-6 overflow-hidden rounded-lg">
        <img src="https://picsum.photos/seed/js-performance/800/400" alt="JavaScript性能优化" class="w-full img-hover">
      </div>
      
      <!-- 文章正文 -->
      <div class="text-gray-700 text-sm space-y-4">
        <p>
          JavaScript 性能对于 web 应用至关重要，直接影响用户体验和留存率。
          即使是功能强大的应用，如果加载缓慢或交互卡顿，也会让用户感到沮丧。
          本文将分享 15 个实用的 JavaScript 性能优化技巧，帮助你编写更高效、响应更快的代码。
        </p>

        <div class="tip-box">
          <strong>核心原则：</strong> 性能优化的目标是减少主线程阻塞、降低资源消耗、并优化关键渲染路径。
        </div>
        
        <ol class="list-decimal pl-5 space-y-3 mt-4">
          <li><strong>减少 DOM 操作</strong>
            <p class="mt-1">DOM 操作是 JavaScript 中开销最大的操作之一。尽量减少直接操作 DOM，可使用 DocumentFragment 进行批量更新，或采用虚拟 DOM 库（如 React, Vue）。</p>
          </li>
          <li><strong>优化循环</strong>
            <p class="mt-1">简化循环体内部逻辑，避免在循环中进行函数调用、复杂计算或 DOM 操作。缓存数组长度以避免重复计算。</p>
          </li>
          <li><strong>使用事件委托</strong>
            <p class="mt-1">对于大量相似元素（如列表项），不要为每个元素单独绑定事件监听器。而是将事件监听器绑定到它们的父元素上，利用事件冒泡机制处理。</p>
          </li>
          <li><strong>避免不必要的重排（Reflow）和重绘（Repaint）</strong>
            <p class="mt-1">修改元素的宽高、位置、颜色等属性会触发浏览器重排或重绘。尽量批量修改样式，或使用 CSS classes 进行一次性更新。</p>
          </li>
          <li><strong>合理使用闭包和作用域</strong>
            <p class="mt-1">闭包会占用内存，过度使用可能导致内存泄漏。尽量减少不必要的闭包，并避免在循环中创建函数。同时，优先访问局部变量而非全局变量。</p>
          </li>
          <li><strong>优化字符串操作</strong>
            <p class="mt-1">字符串在 JavaScript 中是不可变的，每次拼接都会创建新字符串。对于大量字符串拼接，使用 <code class="bg-gray-100 px-1">Array.join('')</code> 或 ES6 的模板字符串（Template Literals）效率更高。</p>
          </li>
          <li><strong>使用 Web Workers</strong>
            <p class="mt-1">将耗时的计算（如数据处理、复杂算法）移至 Web Workers 中执行，避免阻塞主线程，保持 UI 响应流畅。</p>
          </li>
          <li><strong>懒加载（Lazy Loading）</strong>
            <p class="mt-1">对于图片、视频等资源，以及非首屏的组件，采用懒加载策略，只在用户需要时才加载，减少初始加载时间。</p>
          </li>
          <li><strong>代码拆分（Code Splitting）</strong>
            <p class="mt-1">将应用代码拆分为多个小块，按需加载。现代打包工具如 Webpack, Vite 都支持此功能。</p>
          </li>
          <li><strong>选择高效的数据结构</strong>
            <p class="mt-1">根据场景选择合适的数据结构。例如，使用 <code class="bg-gray-100 px-1">Map</code> 和 <code class="bg-gray-100 px-1">Set</code> 进行快速查找，其平均时间复杂度为 O(1)，而数组的 <code class="bg-gray-100 px-1">indexOf</code> 为 O(n)。</p>
          </li>
          <li><strong>避免使用 <code class="bg-gray-100 px-1">eval()</code> 和 <code class="bg-gray-100 px-1">with</code></strong>
            <p class="mt-1">这两个函数会破坏代码的可读性和性能，并且 <code class="bg-gray-100 px-1">eval()</code> 存在安全风险。</p>
          </li>
          <li><strong>压缩和混淆代码</strong>
            <p class="mt-1">在生产环境中，使用工具（如 Terser, UglifyJS）压缩和混淆 JavaScript 代码，减小文件体积。</p>
          </li>
          <li><strong>利用 HTTP/2 和 HTTP 缓存</strong>
            <p class="mt-1">虽然这不是 JavaScript 代码层面的优化，但合理利用 HTTP/2 的多路复用和强大的缓存策略（如 <code class="bg-gray-100 px-1">Cache-Control</code>）可以显著提升资源加载性能。</p>
          </li>
          <li><strong>使用 <code class="bg-gray-100 px-1">requestAnimationFrame</code> 处理动画</strong>
            <p class="mt-1">对于 JavaScript 动画，使用 <code class="bg-gray-100 px-1">requestAnimationFrame</code> 可以确保动画与浏览器重绘同步，获得更流畅的效果。</p>
          </li>
          <li><strong>性能监控与分析</strong>
            <p class="mt-1">使用浏览器开发者工具（如 Chrome DevTools 的 Performance 和 Lighthouse）定期分析和监控应用性能，找出瓶颈并进行针对性优化。</p>
          </li>
        </ol>
        
        <h2 class="text-base font-bold mt-6">总结</h2>
        
        <p>
          性能优化是一个持续的过程，需要在开发实践中不断积累和应用。
          以上这些技巧涵盖了代码编写、资源加载、浏览器渲染等多个方面。
          记住，过早的优化可能会带来复杂性，应优先关注代码的可读性和正确性，
          然后在应用出现性能问题时，再运用这些技巧进行优化。
        </p>
      </div>
      
      <!-- 文章标签 -->
      <div class="mt-8 pt-4 border-t border-gray-200">
        <h3 class="text-xs font-medium text-gray-500 mb-2">文章标签</h3>
        <div class="flex flex-wrap gap-2">
          <a href="#" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-xs px-3 py-1 rounded-full transition-colors">JavaScript</a>
          <a href="#" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-xs px-3 py-1 rounded-full transition-colors">性能优化</a>
          <a href="#" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-xs px-3 py-1 rounded-full transition-colors">前端开发</a>
          <a href="#" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-xs px-3 py-1 rounded-full transition-colors">Web性能</a>
        </div>
      </div>
    </div>
  </section>

  <!-- 页脚 -->
  <footer class="bg-gray-800 text-white py-3 mt-6 text-xs text-center">
    <p>© 2025 个人博客</p>
  </footer>

  <script>
    // 移动端菜单切换
    document.getElementById('menuBtn').addEventListener('click', function() {
      document.getElementById('mobileMenu').classList.toggle('hidden');
    });
  </script>
</body>
</html>